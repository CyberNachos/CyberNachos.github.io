import{x as v,$ as p,g as k,a6 as y,K as i,a7 as D,c as r,b as T,w as E,a8 as I,o as l,k as m,a2 as h}from"./DUu4xdR1.js";const C=1,M=1e6,a={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let d=0;function x(){return d=(d+1)%Number.MAX_VALUE,d.toString()}const _=new Map;function A(e){if(_.has(e))return;const t=setTimeout(()=>{_.delete(e),u({type:a.REMOVE_TOAST,toastId:e})},M);_.set(e,t)}const s=p({toasts:[]});function u(e){switch(e.type){case a.ADD_TOAST:s.value.toasts=[e.toast,...s.value.toasts].slice(0,C);break;case a.UPDATE_TOAST:s.value.toasts=s.value.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t);break;case a.DISMISS_TOAST:{const{toastId:t}=e;t?A(t):s.value.toasts.forEach(o=>{A(o.id)}),s.value.toasts=s.value.toasts.map(o=>o.id===t||t===void 0?{...o,open:!1}:o);break}case a.REMOVE_TOAST:e.toastId===void 0?s.value.toasts=[]:s.value.toasts=s.value.toasts.filter(t=>t.id!==e.toastId);break}}function b(){return{toasts:v(()=>s.value.toasts),toast:R,dismiss:e=>u({type:a.DISMISS_TOAST,toastId:e})}}function R(e){const t=x(),o=c=>u({type:a.UPDATE_TOAST,toast:{...c,id:t}}),n=()=>u({type:a.DISMISS_TOAST,toastId:t});return u({type:a.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:c=>{c||n()}}}),{id:t,dismiss:n,update:o}}const g={class:"flex"},V={key:0},w={key:1},B=k({__name:"CodeCopy",props:{code:{}},setup(e){const{toast:t}=b(),{copy:o}=y({source:e.code}),n=p(!1),{codeCopyIcon:c}=i().value.main;async function O(){await o(e.code),n.value=!0,i().value.main.codeCopyToast&&t({description:i().value.main.codeCopyToastText})}const S=p();return D(S,()=>{n.value=!1}),(U,P)=>{const f=h;return l(),r("div",g,[T(I,{name:"fade",mode:"out-in"},{default:E(()=>[m(n)===!1?(l(),r("div",V,[T(f,{name:m(c),class:"block cursor-pointer self-center text-muted-foreground hover:text-primary",onClick:O},null,8,["name"])])):(l(),r("div",w,[T(f,{ref_key:"checkIconRef",ref:S,name:"lucide:check",class:"block cursor-pointer self-center text-muted-foreground hover:text-primary"},null,512)]))]),_:1})])}}});export{B as _};
